<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Level 2</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function(){
    function getDatas(row,col) {
      var data = [];
      if(col!=''&&col>0){
        $('.command-table td:nth-child('+col+')').map(function(){
          return data.push($(this).text());
        });
      }
      if(row!=''&&row>0){
        $('.command-table tr.selected td').map(function(){
          return data.push($(this).text());
        });
      }

      return data;

    }
    $(document).on('submit','.command-form',function(){
      var index = $('.command-form #index').val();
      var indicator = $('.command-form #indicator').val();
      var direction = $('.command-form #direction').val();

      $('.selected').removeClass('selected');
      if(indicator==0){
        $('.row-'+index).addClass('selected');
        var oldData = getDatas(index,0);
        var totalCol = $('.command-table tr.selected td').length;
        if(direction>0){
            direction = totalCol-(parseInt(direction));
        }else{
          direction = Math.abs(direction);
        }
        $('.command-table tr.selected td').each(function(i){
          var currentText = $(this).text();
          if(direction>=totalCol){
            direction = 0;
          }

          var newText = oldData[direction];
          $(this).empty().append(newText);
          direction++;
        });

      }else if(indicator==1) {
        $('.column-'+index).addClass('selected');
        var oldData = getDatas(0,index);
        var totalCol = $('.command-table .column-'+index).length;
        if(direction<0){
            direction = totalCol+(parseInt(direction));
          }
        $('.command-table .column-'+index).each(function(i){
          var currentText = $(this).text();
          if(direction>=totalCol){
            direction = 0;
          }

          var newText = oldData[direction];
          $(this).empty().append(newText);
          direction++;
        });
      }else {

      }
    });
  });
  </script>
</body>
</html>
